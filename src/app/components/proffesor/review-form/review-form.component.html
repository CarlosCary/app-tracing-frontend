<app-toolbar></app-toolbar>

<div class="center">    
    <h1 class="tittle">Formulario de la tarea</h1>
    <div class="new-section">
        <mat-form-field>
            <mat-label>Mis formularios</mat-label>
            <mat-select>
                <mat-option (click)="selectForm('none')">*Ninguno</mat-option>
                <mat-option *ngFor="let formTask of formTasks" [value]="formTask._id" (click)="selectForm(formTask._id)">
                    {{formTask.formTittle}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <button class="new-section" type="button" mat-raised-button (click)="addSection()">Agregar nueva sección</button>
    
    <form class="section-container" [formGroup]="taskForm" (ngSubmit)="createForm()">
        
        <div>
            <mat-form-field  hintLabel="Máximo 30 carácteres" class="tittle-section">
                <input matInput #input maxlength="30" placeholder="Ingrese el título de la sección" formControlName="titleSection">
                <mat-hint align="end">{{input.value?.length || 0}}/30</mat-hint>
                <mat-error *ngIf="form.titleSection.hasError('required')">Ingrese un título para la sección</mat-error>
            </mat-form-field>
        </div>
        <p>
            <mat-form-field appearance="outline" class="text-box">
                <mat-label>Descripción de la sección</mat-label>
                <textarea matInput maxlength="300" rows="5" formControlName="descriptionSection"></textarea>
                <mat-error *ngIf="form.descriptionSection.hasError('required')">Ingrese una descripción para la sección</mat-error>
                
            </mat-form-field>
        </p>
        <mat-divider></mat-divider>
        <br>
        <ng-template #section></ng-template>
        
        <button class="create-form" type="submit" mat-raised-button color="primary">Crear tarea</button>
        
    </form>
</div>