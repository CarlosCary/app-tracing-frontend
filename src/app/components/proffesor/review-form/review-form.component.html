<app-toolbar></app-toolbar>

<div class="center">    
    <h1 class="tittle">Formulario de la tarea</h1>
    <div class="new-section">
        <mat-form-field>
            <mat-label>Mis formularios</mat-label>
            <mat-select [(value)]="selectedForm">
                <mat-option (click)="selectForm('none')">*Ninguno</mat-option>
                <mat-option *ngFor="let formTask of formTasks" [value]="formTask._id" (click)="selectForm(formTask._id)">
                    {{formTask.formTittle}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <button class="new-section" mat-raised-button (click)="addSection()">Agregar nueva sección</button>
    <!-- <ng-template #section></ng-template> -->
    <div class="section-container" *ngFor="let descriptionId of descriptionsId; let i=index;">
        
        <div>
            <mat-form-field  hintLabel="Máximo 30 carácteres" class="tittle-section">
                <input matInput #input maxlength="30" placeholder="Ingrese el título de la sección" [(ngModel)]="tittle" id="descriptionTittle[{{descriptionId}}]">
                <mat-hint align="end">{{input.value?.length || 0}}/30</mat-hint>
            </mat-form-field>
        </div>
        <p>
            <mat-form-field appearance="outline" class="text-box">
                <mat-label>Descripción de la sección</mat-label>
                <textarea id="descriptionDetail[{{descriptionId}}]" [(ngModel)]="description" matInput maxlength="300" rows="5"></textarea>
                <!-- <mat-hint>{{input.value?.length || 0}}/300</mat-hint> -->
            </mat-form-field>
        </p>
        <mat-divider></mat-divider>
        <br>
        <ng-template #section></ng-template>
        
    </div>
    <button class="create-form" mat-raised-button color="primary" (click)="createForm()">Crear tarea</button>
</div>